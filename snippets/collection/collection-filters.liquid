<form class="form" role="form">
	<div class="row">
		<div class="col-md-4">
			<div class="form-group">
				<label>Measurement Changer</label>
				{% if collection.handle == wardrobes %}<p class="help-block">Choose the wardrobe type and width category for your wardrobe opening:</p>{% endif %}
				{% if collection.handle == doors %}<p class="help-block">Change the width and height categories by selecting from the drop down lists:</p>{% endif %}
				<select class="coll-picker form-control hidden">
				{% for c in collections %}
					{% unless c.handle == 'all' %}
					{% if collection.handle == c.handle %}
					<option value="{{ c.handle }}" selected>{{ c.title }}</option>
					{% else %}
					<option value="{{ c.handle }}">{{ c.title }}</option>
					{% endif %}
					{% endunless %}
				{% endfor %}
				</select>
			</div>
		</div>

		{% if collection.handle == wardrobes %}
		<div class="col-md-4">
			<div class="form-group">
				<label>1: Wardrobe Type</label>
				<select class="coll-filter form-control">
				{% for type in types %}
					{% if current_tags contains type and type == 'standard' %}
					<option value="{{ type | handle }}" selected>Standard Opening</option>
					{% elsif collection.all_tags contains type and type == 'standard' %}
					<option value="{{ type | handle }}">Standard Opening</option>
					{% endif %}
					{% if current_tags contains type and type == 'straight' %}
					<option value="{{ type | handle }}" selected>Straight Wall</option>
					{% elsif collection.all_tags contains type and type == 'straight' %}
					<option value="{{ type | handle }}">Straight Wall</option>
					{% endif %}
					{% if current_tags contains type and type == 'lcnr' %}
					<option value="{{ type | handle }}" selected>Left Corner</option>
					{% elsif collection.all_tags contains type and type == 'lcnr' %}
					<option value="{{ type | handle }}">Left Corner</option>
					{% endif %}
					{% if current_tags contains type and type == 'rcnr' %}
					<option value="{{ type | handle }}" selected>Right Corner</option>
					{% elsif collection.all_tags contains type and type == 'rcnr' %}
					<option value="{{ type | handle }}">Right Corner</option>
					{% endif %}
				{% endfor %}
				</select>
			</div>
		</div>
		{% endif %}

		{% if collection.handle == doors %}
		<div class="col-md-4">
		    <div class="form-group">
		    	<label>1: Height Category <i class="icon icon-info-circle" data-toggle="tooltip" title="eg. if your wardrobe{{ door }} opening is 2250mm high, you should choose the 2100mm to 2400mm high category."></i></label>
				<select class="coll-filter form-control">
				{% for height in heights %}
					{% if current_tags contains height and height == '2100h' %}
					<option value="{{ height | handle }}" selected>Up to 2100mm high</option>
					{% elsif collection.all_tags contains height and height == '2100h' %}
					<option value="{{ height | handle }}">Up to 2100mm high</option>
					{% endif %}
					{% if current_tags contains height and height == '2400h' %}
					<option value="{{ height | handle }}" selected>2100mm to 2400mm high</option>
					{% elsif collection.all_tags contains height and height == '2400h' %}
					<option value="{{ height | handle }}">2100mm to 2400mm high</option>
					{% endif %}
					{% if current_tags contains height and height == '2700h' %}
					<option value="{{ height | handle }}" selected>2400mm to 2700mm high</option>
					{% elsif collection.all_tags contains height and height == '2700h' %}
					<option value="{{ height | handle }}">2400mm to 2700mm high</option>
					{% endif %}
				{% endfor %}
				</select>
			</div>
		</div>
	    {% endif %}

	    <div class="col-md-4">
			<div class="form-group">
				<label>2: Width Category <i class="icon icon-info-circle" data-toggle="tooltip" title="eg. if your wardrobe{{ door }} opening is opening is 2250mm wide, you should choose the 2100mm to 2400mm category."></i></label>
				<select class="coll-filter form-control">
				{% for width in widths %}
					{% if current_tags contains width and width == '1200w' %}
					<option value="{{ width | handle }}" selected>Up to 1200mm wide</option>
					{% elsif collection.all_tags contains width and width == '1200w' %}
					<option value="{{ width | handle }}">Up to 1200mm wide</option>
					{% endif %}
					{% if current_tags contains width and width == '1500w' %}
					<option value="{{ width | handle }}" selected>1200mm to 1500mm wide</option>
					{% elsif collection.all_tags contains width and width == '1500w' %}
					<option value="{{ width | handle }}">1200mm to 1500mm wide</option>
					{% endif %}
					{% if current_tags contains width and width == '1800w' %}
					<option value="{{ width | handle }}" selected>1500mm to 1800mm wide</option>
					{% elsif collection.all_tags contains width and width == '1800w' %}
					<option value="{{ width | handle }}">1500mm to 1800mm wide</option>
					{% endif %}
					{% if current_tags contains width and width == '2100w' %}
					<option value="{{ width | handle }}" selected>1800mm to 2100mm wide</option>
					{% elsif collection.all_tags contains width and width == '2100w' %}
					<option value="{{ width | handle }}">1800mm to 2100mm wide</option>
					{% endif %}
					{% if current_tags contains width and width == '2400w' %}
					<option value="{{ width | handle }}" selected>2100mm to 2400mm wide</option>
					{% elsif collection.all_tags contains width and width == '2400w' %}
					<option value="{{ width | handle }}">2100mm to 2400mm wide</option>
					{% endif %}
					{% if current_tags contains width and width == '2700w' %}
					<option value="{{ width | handle }}" selected>2400mm to 2700mm wide</option>
					{% elsif collection.all_tags contains width and width == '2700w' %}
					<option value="{{ width | handle }}">2400mm to 2700mm wide</option>
					{% endif %}
					{% if current_tags contains width and width == '3000w' %}
					<option value="{{ width | handle }}" selected>2700mm to 3000mm wide</option>
					{% elsif collection.all_tags contains width and width == '3000w' %}
					<option value="{{ width | handle }}">2700mm to 3000mm wide</option>
					{% endif %}
					{% if current_tags contains width and width == '3300w' %}
					<option value="{{ width | handle }}" selected>3000mm to 3300mm wide</option>
					{% elsif collection.all_tags contains width and width == '3300w' %}
					<option value="{{ width | handle }}">3000mm to 3300mm wide</option>
					{% endif %}
					{% if current_tags contains width and width == '3600w' %}
					<option value="{{ width | handle }}" selected>3300mm to 3600mm wide</option>
					{% elsif collection.all_tags contains width and width == '3600w' %}
					<option value="{{ width | handle }}">3300mm to 3600mm wide</option>
					{% endif %}
				{% endfor %}
				</select>
			</div>
		</div>
	</div>
</form>

<script>
  /* Product Tag Filters - Good for any number of filters on any type of collection pages */
  /* Give you product tag filter select element a class of coll-filter */
  /* Give your collection select a class of coll-picker */
  /* Brought to you by Caroline Schnapp */
  var allFilters = $('.coll-filter, .coll-picker');
  allFilters.change(function() {
    var newTags = [];
    $('.coll-filter').each(function() { 
      if ($(this).val()) {
        newTags.push($(this).val());
      }
    });
    if (newTags.length) {
      var query = newTags.join('+');
      if ($('.coll-picker').length) {
        window.location.href = '/collections/' + $('.coll-picker').val() + '/' + query;
      }
      else {
        window.location.href = $('{{ '' | link_to_tag: '' }}').attr('href') + query;
      }
    } 
    else {
      if ($('.coll-picker').length) {
        window.location.href = '/collections/' + $('.coll-picker').val();
      }
      else {
        {% if collection.handle %}
        window.location.href = '/collections/{{ collection.handle }}';
        {% elsif collection.products.first.type == collection.title %}
        window.location.href = '{{ collection.title | url_for_type }}';
        {% elsif collection.products.first.vendor == collection.title %}
        window.location.href = '{{ collection.title | url_for_vendor }}';
        {% endif %}
      }
    }
  });
</script>